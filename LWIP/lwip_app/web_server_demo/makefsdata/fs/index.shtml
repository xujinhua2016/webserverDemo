<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="UTF-8">
	<meta http-equiv="X-UA-Compatible" content="IE=edge">
	<meta name="viewport" content="width=device-width,initial-scale=1">
	<title>data</title>
	<link rel="stylesheet" href="static/css/bootstrap.min.css">   
	<style type="text/css">
		body{ font-family: 'Microsoft YaHei';}
		/*.panel-body{ padding: 0; }*/
	</style>
	<script type="text/javascript" src="static/js/Chart.js"></script>

	<style type="text/css">
			#noDisplay{
				display:none;
			}
			#text1{
				display:none;
			}
			#text2{
				display:none;
			}
			#div1{
				/*border: 2px solid red;*/
				text-align:center;
			}
	</style>
</head>
<body>
	<div class="jumbotron">
		<div class="container">
			<h2>绿耳电池巡检仪监控系统</h1>
				<h3>——V1.0</h3>

			</div>
		</div>
		<div class="container">
			<div class="main">
				<div class="row">
					<!-- 左侧内容 -->
					<div class="col-md-3">
						<div class="list-group">
							<a href="userinfo.html" class="list-group-item text-center ">用户信息</a>
							<a href="data.html" class="list-group-item text-center active" id="cus_mor">监控数据</a>
							<a href="warning.html" class="list-group-item text-center" id="cus_warn">报警查询</a>
							<a href="history.html" class="list-group-item text-center" id="cus_hty">历史曲线</a>
							<a href="status.html" class="list-group-item text-center" id="cus_stat">状态查询</a>
							<a href="config.html" class="list-group-item text-center" id="cus_conf">参数配置</a>
							<a href="help.html" class="list-group-item text-center" id="cus_help">帮助信息</a>
							<a href="connect.html" class="list-group-item text-center" id="cus_conn">联系我们</a>
						</div>
					</div>
					<!-- 右侧内容 -->
					<div class="col-md-9">
						<div class="panel panel-default">

							<div id="noDisplay">
								<p id="volt"><!--#v--></p>
								<p id="res"><!--#r--></p>
							</div>


							<div id="div1">
								<center><div class="panel-heading">电池电压</div></center>
								<canvas id="myChart" width="800" height="300"></canvas>
								
								<center><div class="panel-heading">电池内阻</div></center>
								<canvas id="myChart1" width="800" height="300"></canvas>	
							</div>



							<script>

								var pElementVolt = document.getElementById("volt");
								var pElementRes = document.getElementById("res");
								
								var result = pElementVolt.innerHTML;
								var result1 = pElementRes.innerHTML;

								
								var volt1 = parseInt(pElementVolt.innerHTML.substr(9,4));
								var volt2 = parseInt(pElementVolt.innerHTML.substr(13,4));
								var volt3 = parseInt(pElementVolt.innerHTML.substr(17,4));
								var volt4 = parseInt(pElementVolt.innerHTML.substr(21,4));
								var volt5 = parseInt(pElementVolt.innerHTML.substr(25,4));
								var volt6 = parseInt(pElementVolt.innerHTML.substr(29,4));
								
								var volt7 = parseInt(pElementVolt.innerHTML.substr(33,4));
								var volt8 = parseInt(pElementVolt.innerHTML.substr(37,4));
								var volt9 = parseInt(pElementVolt.innerHTML.substr(41,4));
								var volt10 = parseInt(pElementVolt.innerHTML.substr(45,4));
								var volt11 = parseInt(pElementVolt.innerHTML.substr(49,4));
								var volt12 = parseInt(pElementVolt.innerHTML.substr(53,4));
								
								var volt13 = parseInt(pElementVolt.innerHTML.substr(57,4));
								var volt14 = parseInt(pElementVolt.innerHTML.substr(61,4));
								var volt15 = parseInt(pElementVolt.innerHTML.substr(65,4));
								var volt16 = parseInt(pElementVolt.innerHTML.substr(69,4));
								var volt17 = parseInt(pElementVolt.innerHTML.substr(73,4));
								var volt18 = parseInt(pElementVolt.innerHTML.substr(77,4));
								
								var volt19 = parseInt(pElementVolt.innerHTML.substr(81,4));
								var volt20 = parseInt(pElementVolt.innerHTML.substr(85,4));
								var volt21 = parseInt(pElementVolt.innerHTML.substr(89,4));
								var volt22 = parseInt(pElementVolt.innerHTML.substr(93,4));
								var volt23 = parseInt(pElementVolt.innerHTML.substr(97,4));
								var volt24 = parseInt(pElementVolt.innerHTML.substr(101,4));
								
								
								var res1 = parseInt(pElementRes.innerHTML.substr(9,4));
								var res2 = parseInt(pElementRes.innerHTML.substr(13,4));
								var res3 = parseInt(pElementRes.innerHTML.substr(17,4));
								var res4 = parseInt(pElementRes.innerHTML.substr(21,4));
								var res5 = parseInt(pElementRes.innerHTML.substr(25,4));
								var res6 = parseInt(pElementRes.innerHTML.substr(29,4));
								
								var res7 = parseInt(pElementRes.innerHTML.substr(33,4));
								var res8 = parseInt(pElementRes.innerHTML.substr(37,4));
								var res9 = parseInt(pElementRes.innerHTML.substr(41,4));
								var res10 = parseInt(pElementRes.innerHTML.substr(45,4));
								var res11 = parseInt(pElementRes.innerHTML.substr(49,4));
								var res12 = parseInt(pElementRes.innerHTML.substr(53,4));
								
								var res13 = parseInt(pElementRes.innerHTML.substr(57,4));
								var res14 = parseInt(pElementRes.innerHTML.substr(61,4));
								var res15 = parseInt(pElementRes.innerHTML.substr(65,4));
								var res16 = parseInt(pElementRes.innerHTML.substr(69,4));
								var res17 = parseInt(pElementRes.innerHTML.substr(73,4));
								var res18 = parseInt(pElementRes.innerHTML.substr(77,4));
								
								var res19 = parseInt(pElementRes.innerHTML.substr(81,4));
								var res20 = parseInt(pElementRes.innerHTML.substr(85,4));
								var res21 = parseInt(pElementRes.innerHTML.substr(89,4));
								var res22 = parseInt(pElementRes.innerHTML.substr(93,4));
								var res23 = parseInt(pElementRes.innerHTML.substr(97,4));
								var res24 = parseInt(pElementRes.innerHTML.substr(101,4));

								var displayVoltData = [volt1,volt2,volt3,volt4,volt5,volt6,volt7,volt8,volt9,volt10,volt11,volt12,volt13,volt14,volt15,volt16,volt17,volt18,volt19,volt20,volt21,volt22,volt23,volt24];
								var displayResData = [res1,res2,res3,res4,res5,res6,res7,res8,res9,res10,res11,res12,res13,res14,res15,res16,res17,res18,res19,res20,res21,res22,res23,res24];

								var ctx = document.getElementById("myChart").getContext('2d');
								var ctx1 = document.getElementById("myChart1").getContext('2d');
								var data = {
									labels : ["1#","2#","3#","4#","5#","6#","7#","8#","9#","10#","11#","12#","13#","14#","15#","16#",
									"17#","18#","19#","20#","21#","22#","23#","24#"],
									datasets : [
									{
										fillColor : "rgba(220,220,220,0.5)",
										strokeColor : "rgba(220,220,220,1)",
										data : displayVoltData
									}
									]
								}
								var data1 = {
									labels : ["1#","2#","3#","4#","5#","6#","7#","8#","9#","10#","11#","12#","13#","14#","15#","16#",
									"17#","18#","19#","20#","21#","22#","23#","24#"],
									datasets : [
									{
										fillColor : "rgba(151,187,205,0.5)",
										strokeColor : "rgba(151,187,205,1)",
									//data : [0.84,19.7,1.4,2.5,1.6,4.3,1.1,0.5,2.8,9.4,
									//5.9,6.4,8.2,7.3,1.6,4.3,1.1,0.5,2.8,9.4,5.9,6.4,8.2,7.3]
									data : displayResData
								}
								]
							}
							var myChartLine = new Chart(ctx).Bar(data,{scaleLabel : "<%=value%>mV",});
							var myChartLine1 = new Chart(ctx1).Bar(data1,{scaleLabel : "<%=value%>mΩ",});
						</script>
						<ul>
							<li>
								<input type="submit" value="内阻测试"/>
							</li>
						</ul>
					</div>
				</div>
			</div>
		</div>
	</div>
	<!-- 尾部 -->
	<div class="jumbotron" style=" margin-bottom:0;margin-top:100px;">
		<div class="container">
			<center><span>&copy; 上海绿耳新能源科技有限公司</span></center>
		</div>
	</div>
</body>
</html>